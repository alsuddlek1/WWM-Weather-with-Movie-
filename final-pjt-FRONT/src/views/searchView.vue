<template>
<div>
    <br>
    <h3>SEARCH</h3>
    <h5><small>ì›í•˜ëŠ” ì˜í™” ì œëª©ì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”</small></h5>
    <br>
    <p class="m-3">ğŸ‘‡ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”ğŸ‘‡</p>
  <div class="searchsize">
    <span class="inputsize">
    <input placeholder="ë¦¬ ë„ìš°ê³  ì‹  ì•ˆí•´ë„ ë¨" type="text" @input="changedata" @keyup="detectMovie">
    </span>

  </div>
    <div v-for="movie in movies" :key="movie.id">
        <div class="m-3 mouse" @click="goDetail(movie)">
        <p class="card-title font">{{movie.title}}</p>
        </div>
    </div>
</div>
</template>

<script>
export default {
    name: 'searchView',
    data () {
        return {
            inputdata : ""
        }
    },
    computed: {
        movies() {
            return this.$store.state.Movie.searchMovie
        }
    },
    methods: {
        changedata(e){
            this.inputdata = e.target.value
        },
        detectMovie() {
            this.$store.dispatch('detectMovie',this.inputdata) 

        },
        goDetail(movie) {
            this.$router.push({name:'MovieDetail', params: {movie_id: movie.id}})
        },

        moviesnull() {
            this.$store.dispatch('moviesnull')
        }

    },
    created() {
        this.moviesnull()
    }

}
</script>

<style>
    .searchsize {
        width: 1000px;
        display: flex;
        flex-direction: row;
        justify-content: center;
    }

    .inputsize{
        width: 300px;
    }

</style>